# ADR-002: 동시 실행 스케일링 전략

> 상태: 분석 완료, 가이드 작성됨
> 작성일: 2026-01-13

## 컨텍스트

프로젝트 변환 작업의 동시 실행 수를 늘리기 위한 스케일링 전략이 필요했다.

## 현재 상태

| 항목 | 값 |
|------|-----|
| Worker Pod | 1개 |
| Concurrency | 2 |
| 동시 실행 가능 | **2건** |
| 노드 | Standard_B2ms (2vCPU/8GB) |
| CPU 사용률 | 92% |

## 분석 결과

### 동시 실행별 필요 리소스

| 동시 실행 | Worker | 노드 타입 | 노드 수 | 월 비용 |
|----------|--------|----------|--------|---------|
| 10건 | 3 | B2ms | 2 | ~160,000원 |
| 20건 | 5 | B4ms | 2 | ~320,000원 |
| 30건 | 8 | B4ms | 3 | ~480,000원 |
| 40건 | 10 | D4s_v3 | 3 | ~720,000원 |
| 50건 | 13 | D4s_v3 | 4 | ~960,000원 |

### 스케일링 방법

1. **kubectl scale** - 즉시 적용, 임시
2. **Kustomize Overlay** - Git 관리, 영구 적용
3. **HPA** - CPU 기반 자동 스케일링 (권장)
4. **KEDA** - Celery 큐 기반 이벤트 스케일링

## 결정사항

1. HPA 기반 자동 스케일링 도입 권장
2. 최소 1 → 최대 13 Worker 설정
3. 노드 오토스케일러 활성화 (min 1, max 5)

## 참고

- 상세 문서: `/docs/스케일링-가이드.md`
