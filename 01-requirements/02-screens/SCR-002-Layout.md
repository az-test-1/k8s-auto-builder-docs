# SCR-002: 레이아웃/GNB

> **Status**: Draft
> **Version**: 1.0.0
> **Last Updated**: 2026-01-13
> **Parent**: [PRD-030-Admin-Dashboard](../prd/PRD-030-Admin-Dashboard.md)

---

## 1. 개요

### 1.1 화면 정보
| 항목 | 내용 |
|------|------|
| 화면 ID | SCR-002 |
| 화면명 | 레이아웃/GNB |
| 적용 범위 | 로그인 후 모든 페이지 |
| 접근 권한 | 인증된 사용자 |

### 1.2 목적
전체 애플리케이션의 공통 레이아웃과 네비게이션을 제공합니다.

---

## 2. 화면 구성

### 2.1 레이아웃 구조

```
┌─────────────────────────────────────────────────────────────────┐
│                          Header (GNB)                           │
│  ┌──────┐                                    ┌────┐ ┌────────┐  │
│  │ Logo │  [Dashboard] [Projects] [Runs]     │ 🔔 │ │ 사용자 ▼│  │
│  └──────┘                                    └────┘ └────────┘  │
├─────────────┬───────────────────────────────────────────────────┤
│             │                                                   │
│   Sidebar   │                    Main Content                   │
│             │                                                   │
│  ┌────────┐ │                                                   │
│  │ Menu 1 │ │                                                   │
│  ├────────┤ │                                                   │
│  │ Menu 2 │ │                                                   │
│  ├────────┤ │                                                   │
│  │ Menu 3 │ │                                                   │
│  ├────────┤ │                                                   │
│  │  ...   │ │                                                   │
│  └────────┘ │                                                   │
│             │                                                   │
│  ┌────────┐ │                                                   │
│  │Settings│ │                                                   │
│  └────────┘ │                                                   │
│             │                                                   │
├─────────────┴───────────────────────────────────────────────────┤
│                          Footer (Optional)                       │
└─────────────────────────────────────────────────────────────────┘
```

### 2.2 Header (GNB)

```
┌─────────────────────────────────────────────────────────────────┐
│ ☰ │ Auto-Builder │ Dashboard │ Projects │ Runs │    🔔 │ 김개발 ▼│
└─────────────────────────────────────────────────────────────────┘
     │      │           │          │        │      │       │
     │      │           └──────────┴────────┘      │       │
     │      │                  │                   │       └─ 사용자 메뉴
     │      │                  │                   └─ 알림 (Badge)
     │      │                  └─ 주요 메뉴
     │      └─ 로고 (클릭 시 대시보드 이동)
     └─ 사이드바 토글 (모바일)
```

### 2.3 Sidebar 메뉴 구조

```
┌─────────────────┐
│ 📊 대시보드      │  ← /dashboard
├─────────────────┤
│ 📁 프로젝트      │  ← /projects
│   └─ 목록       │  ← /projects
│   └─ 생성       │  ← /projects/new
├─────────────────┤
│ ▶️ 실행         │  ← /runs
│   └─ 실행 목록   │  ← /runs
│   └─ 실행 이력   │  ← /runs/history
├─────────────────┤
│ 🤖 AI 관리      │  ← (Admin/User)
│   └─ 프롬프트    │  ← /prompts
│   └─ Few-shot   │  ← /fewshots
├─────────────────┤
│ ⚙️ 관리 (Admin) │  ← (Admin Only)
│   └─ 사용자     │  ← /admin/users
│   └─ 그룹       │  ← /admin/groups
│   └─ 설정       │  ← /admin/settings
└─────────────────┘
```

---

## 3. 기능 정의

### 3.1 Header 기능

| ID | 기능 | 설명 |
|----|------|------|
| F002-01 | 로고 클릭 | 대시보드로 이동 |
| F002-02 | 메뉴 활성화 | 현재 페이지에 해당하는 메뉴 하이라이트 |
| F002-03 | 알림 아이콘 | 미확인 알림 수 Badge 표시 |
| F002-04 | 알림 드롭다운 | 클릭 시 최근 알림 목록 표시 |
| F002-05 | 사용자 메뉴 | 프로필, 설정, 로그아웃 |

### 3.2 Sidebar 기능

| ID | 기능 | 설명 |
|----|------|------|
| F002-06 | 메뉴 접기/펴기 | 사이드바 collapse 토글 |
| F002-07 | 서브메뉴 | 상위 메뉴 클릭 시 하위 메뉴 펼침 |
| F002-08 | 권한별 메뉴 | 역할에 따라 메뉴 표시/숨김 |
| F002-09 | 현재 위치 표시 | 현재 페이지 메뉴 하이라이트 |

### 3.3 사용자 메뉴

| ID | 기능 | 설명 |
|----|------|------|
| F002-10 | 프로필 보기 | 사용자 정보 페이지 이동 |
| F002-11 | 내 설정 | 개인 설정 페이지 이동 |
| F002-12 | 로그아웃 | 세션 종료 후 로그인 페이지 이동 |

---

## 4. 권한별 메뉴 표시

| 메뉴 | ADMIN | USER | VIEWER |
|------|:-----:|:----:|:------:|
| 대시보드 | ✓ | ✓ | ✓ |
| 프로젝트 | ✓ | ✓ | ✓ (읽기) |
| 실행 | ✓ | ✓ | ✓ (읽기) |
| AI 관리 | ✓ | ✓ | ✗ |
| 사용자 관리 | ✓ | ✗ | ✗ |
| 그룹 관리 | ✓ | ✗ | ✗ |
| 시스템 설정 | ✓ | ✗ | ✗ |

---

## 5. 반응형 디자인

### 5.1 브레이크포인트

| 크기 | 너비 | 레이아웃 |
|------|------|----------|
| Desktop | ≥1200px | Sidebar 고정, 전체 메뉴 표시 |
| Tablet | 768-1199px | Sidebar 접힘 가능, 아이콘만 표시 |
| Mobile | <768px | Sidebar 숨김, 햄버거 메뉴 |

### 5.2 모바일 레이아웃

```
┌─────────────────────────┐
│ ☰ │ Auto-Builder │ 🔔 👤│
├─────────────────────────┤
│                         │
│      Main Content       │
│                         │
│                         │
└─────────────────────────┘

☰ 클릭 시:
┌─────────────────────────┐
│ ✕ │ Auto-Builder        │
├─────────────────────────┤
│ 📊 대시보드              │
│ 📁 프로젝트              │
│ ▶️ 실행                 │
│ 🤖 AI 관리              │
│ ⚙️ 관리                 │
└─────────────────────────┘
```

---

## 6. 알림 시스템

### 6.1 알림 타입

| 타입 | 아이콘 | 설명 |
|------|--------|------|
| SUCCESS | ✓ | 실행 성공 |
| FAILED | ✗ | 실행 실패 |
| WARNING | ⚠ | 경고 (타임아웃 임박 등) |
| INFO | ℹ | 일반 정보 |

### 6.2 알림 드롭다운

```
┌─────────────────────────────┐
│ 알림                  모두 읽음│
├─────────────────────────────┤
│ ✓ project-a 실행 완료       │
│   2분 전                    │
├─────────────────────────────┤
│ ✗ project-b 실행 실패       │
│   10분 전                   │
├─────────────────────────────┤
│ ℹ 새 버전이 배포되었습니다    │
│   1시간 전                  │
├─────────────────────────────┤
│        전체 알림 보기 →      │
└─────────────────────────────┘
```

---

## 7. 상태 관리

| 상태 | 타입 | 설명 |
|------|------|------|
| sidebarCollapsed | boolean | 사이드바 접힘 상태 |
| currentPath | string | 현재 페이지 경로 |
| notifications | array | 알림 목록 |
| unreadCount | number | 미확인 알림 수 |
| user | object | 로그인 사용자 정보 |

---

## 8. API 연동

### 8.1 알림 API
```yaml
GET /api/v1/notifications
Query:
  unread: boolean
  limit: number
Response:
  notifications: [{id, type, message, createdAt, read}]
  unreadCount: number

PUT /api/v1/notifications/{id}/read
Response:
  204: No Content

PUT /api/v1/notifications/read-all
Response:
  204: No Content
```

---

## 변경 이력

| 버전 | 날짜 | 변경 내용 |
|------|------|----------|
| 1.0.0 | 2026-01-13 | 초기 작성 |
