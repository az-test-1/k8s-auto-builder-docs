# SCR-032: 실행 이력

> **Status**: Draft
> **Version**: 1.0.0
> **Last Updated**: 2026-01-13
> **Parent**: [PRD-010-Core-Migration](../01-prd/PRD-010-Core-Migration.md)

---

## 1. 개요

### 1.1 화면 정보
| 항목 | 내용 |
|------|------|
| 화면 ID | SCR-032 |
| 화면명 | 실행 이력 |
| URL | `/runs` |
| 접근 권한 | USER, ADMIN, VIEWER |

### 1.2 목적
전체 실행 이력을 조회하고 필터링합니다.

---

## 2. 화면 구성

### 2.1 와이어프레임

```
┌─────────────────────────────────────────────────────────────────┐
│ 실행 이력                                                        │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  ┌─────────────────────────────────────────────────────────┐    │
│  │ 🔍 검색...  │ 프로젝트 [전체 ▼] │ 상태 [전체 ▼] │ 기간 [▼] │    │
│  └─────────────────────────────────────────────────────────┘    │
│                                                                 │
│  ┌─────────────────────────────────────────────────────────┐    │
│  │ 기간: 2026-01-01 ~ 2026-01-13  [적용] [초기화]           │    │
│  └─────────────────────────────────────────────────────────┘    │
│                                                                 │
│  ┌─────────────────────────────────────────────────────────┐    │
│  │ Run ID │ 프로젝트      │ 상태 │ 시작시간    │ 소요시간 │ 액션│
│  ├─────────────────────────────────────────────────────────┤    │
│  │ #30    │ project-a    │  ✓   │ 10:30      │ 8:32    │ [>] │    │
│  │ #29    │ project-b    │  ●   │ 10:25      │ 5:12    │ [>] │    │
│  │ #28    │ project-a    │  ✓   │ 09:15      │ 7:45    │ [>] │    │
│  │ #27    │ project-c    │  ✗   │ 08:30      │ 12:20   │ [>] │    │
│  │ #26    │ project-a    │  ✓   │ 어제 15:00 │ 6:30    │ [>] │    │
│  │ #25    │ project-d    │  ⊘   │ 어제 14:00 │ 3:15    │ [>] │    │
│  │ ...    │ ...          │ ...  │ ...        │ ...     │ ... │    │
│  └─────────────────────────────────────────────────────────┘    │
│                                                                 │
│  ┌─────────────────────────────────────────────────────────┐    │
│  │ 총 125건                   ◀ 1 2 3 ... 13 ▶  20개씩 [▼] │    │
│  └─────────────────────────────────────────────────────────┘    │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

### 2.2 통계 요약 (상단)

```
┌─────────────────────────────────────────────────────────────────┐
│                                                                 │
│  ┌───────────┐  ┌───────────┐  ┌───────────┐  ┌───────────┐    │
│  │ 전체 실행  │  │ 성공      │  │ 실패      │  │ 평균 시간  │    │
│  │    125    │  │   108     │  │    12     │  │  7분 23초  │    │
│  │           │  │  (86.4%)  │  │  (9.6%)   │  │           │    │
│  └───────────┘  └───────────┘  └───────────┘  └───────────┘    │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

---

## 3. 기능 정의

### 3.1 목록 조회

| ID | 기능 | 설명 |
|----|------|------|
| F032-01 | 실행 목록 | 전체 실행 이력 테이블 표시 |
| F032-02 | 정렬 | 컬럼 헤더 클릭으로 정렬 |
| F032-03 | 페이지네이션 | 페이지 단위 조회 |

### 3.2 검색 및 필터

| ID | 기능 | 설명 |
|----|------|------|
| F032-04 | 텍스트 검색 | Run ID 또는 프로젝트명 검색 |
| F032-05 | 프로젝트 필터 | 특정 프로젝트 실행만 표시 |
| F032-06 | 상태 필터 | 성공/실패/실행중/취소 필터 |
| F032-07 | 기간 필터 | 날짜 범위로 필터링 |
| F032-08 | 필터 초기화 | 모든 필터 초기화 |

### 3.3 통계

| ID | 기능 | 설명 |
|----|------|------|
| F032-09 | 통계 요약 | 전체/성공/실패/평균 시간 표시 |
| F032-10 | 필터 연동 | 필터 적용 시 통계도 갱신 |

### 3.4 액션

| ID | 기능 | 설명 |
|----|------|------|
| F032-11 | 상세 보기 | 실행 상세 페이지로 이동 |
| F032-12 | 행 클릭 | 실행 모니터링 페이지로 이동 |

---

## 4. 테이블 컬럼

| 컬럼 | 설명 | 정렬 | 너비 |
|------|------|:----:|------|
| Run ID | 실행 번호 (#n) | ✓ | 80px |
| 프로젝트 | 프로젝트명 | ✓ | auto |
| 상태 | 실행 결과 상태 | ✓ | 80px |
| 시작 시간 | 실행 시작 시간 | ✓ | 150px |
| 소요 시간 | 총 소요 시간 | ✓ | 100px |
| 액션 | 상세 보기 버튼 | - | 60px |

---

## 5. 기간 필터 프리셋

| 프리셋 | 설명 |
|--------|------|
| 오늘 | 오늘 실행 |
| 최근 7일 | 지난 7일간 |
| 최근 30일 | 지난 30일간 |
| 이번 달 | 이번 달 |
| 지난 달 | 지난 달 |
| 직접 입력 | 날짜 범위 선택 |

---

## 6. API 연동

### 6.1 실행 이력 조회
```yaml
GET /api/v1/tr/runs
Query:
  page: number
  size: number
  sort: string
  search: string (optional)
  projectId: string (optional)
  status: string (optional)
  startDate: date (optional)
  endDate: date (optional)
Response:
  data:
    result: Run[]
    pagination: {...}
    stats:
      total: number
      success: number
      failed: number
      avgDuration: number
```

---

## 7. 상태 관리

```typescript
interface ExecutionHistoryState {
  runs: Run[];
  pagination: Pagination;
  stats: RunStats;
  filters: {
    search: string;
    projectId: string | null;
    status: string | null;
    startDate: Date | null;
    endDate: Date | null;
  };
  isLoading: boolean;
}
```

---

## 변경 이력

| 버전 | 날짜 | 변경 내용 |
|------|------|----------|
| 1.0.0 | 2026-01-13 | 초기 작성 |
