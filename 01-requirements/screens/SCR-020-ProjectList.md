# SCR-020: 프로젝트 목록

> **Status**: Draft
> **Version**: 1.0.0
> **Last Updated**: 2026-01-13
> **Parent**: [PRD-010-Core-Migration](./PRD-010-Core-Migration.md)

---

## 1. 개요

### 1.1 화면 정보
| 항목 | 내용 |
|------|------|
| 화면 ID | SCR-020 |
| 화면명 | 프로젝트 목록 |
| URL | `/projects` |
| 접근 권한 | USER, ADMIN (VIEWER: 읽기 전용) |

### 1.2 목적
등록된 프로젝트 목록을 조회하고 관리합니다.

---

## 2. 화면 구성

### 2.1 와이어프레임

```
┌─────────────────────────────────────────────────────────────────┐
│ 프로젝트 목록                                   [+ 프로젝트 생성] │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  ┌─────────────────────────────────────────────────────────┐    │
│  │ 🔍 프로젝트 검색...          │ 그룹 [전체 ▼] │ 상태 [전체 ▼] │    │
│  └─────────────────────────────────────────────────────────┘    │
│                                                                 │
│  ┌─────────────────────────────────────────────────────────┐    │
│  │ ☐ │ 프로젝트명      │ 그룹    │ Java │ 상태   │ 최근실행  │ 액션 │
│  ├─────────────────────────────────────────────────────────┤    │
│  │ ☐ │ 📁 project-a   │ Team A  │ 8→17 │ ✓ 완료 │ 5분 전   │ ⋮  │    │
│  │ ☐ │ 📁 project-b   │ Team A  │ 8→17 │ ● 실행중│ 방금     │ ⋮  │    │
│  │ ☐ │ 📁 project-c   │ Team B  │ 11→17│ ✗ 실패 │ 1시간 전 │ ⋮  │    │
│  │ ☐ │ 📁 project-d   │ Team B  │ 8→11 │ ○ 대기 │ -        │ ⋮  │    │
│  │ ☐ │ 📁 project-e   │ Team C  │ 8→17 │ ✓ 완료 │ 2시간 전 │ ⋮  │    │
│  └─────────────────────────────────────────────────────────┘    │
│                                                                 │
│  ┌─────────────────────────────────────────────────────────┐    │
│  │ 선택된 항목: 2개          [삭제] [그룹 이동] [일괄 실행]   │    │
│  └─────────────────────────────────────────────────────────┘    │
│                                                                 │
│  ┌─────────────────────────────────────────────────────────┐    │
│  │ ◀ 1 2 3 ... 10 ▶                     10개씩 보기 [▼]   │    │
│  └─────────────────────────────────────────────────────────┘    │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

---

## 3. 기능 정의

### 3.1 목록 조회

| ID | 기능 | 설명 |
|----|------|------|
| F020-01 | 목록 표시 | 프로젝트 목록 테이블 표시 |
| F020-02 | 정렬 | 컬럼 헤더 클릭으로 정렬 (이름, 최근실행 등) |
| F020-03 | 페이지네이션 | 페이지 단위 조회 (10, 20, 50개) |

### 3.2 검색 및 필터

| ID | 기능 | 설명 |
|----|------|------|
| F020-04 | 텍스트 검색 | 프로젝트명으로 검색 |
| F020-05 | 그룹 필터 | 특정 그룹 프로젝트만 표시 |
| F020-06 | 상태 필터 | 완료/실행중/실패/대기 필터 |
| F020-07 | 필터 초기화 | 모든 필터 초기화 버튼 |

### 3.3 개별 액션 (⋮ 메뉴)

| ID | 기능 | 설명 | 권한 |
|----|------|------|------|
| F020-08 | 상세 보기 | 프로젝트 상세 페이지 이동 | 전체 |
| F020-09 | 실행 | 마이그레이션 실행 | USER+ |
| F020-10 | 설정 | 프로젝트 설정 수정 | USER+ |
| F020-11 | 복제 | 프로젝트 복제 생성 | USER+ |
| F020-12 | 삭제 | 프로젝트 삭제 (확인 필요) | USER+ |

### 3.4 일괄 액션

| ID | 기능 | 설명 | 권한 |
|----|------|------|------|
| F020-13 | 전체 선택 | 현재 페이지 전체 선택 | 전체 |
| F020-14 | 일괄 삭제 | 선택된 프로젝트 삭제 | USER+ |
| F020-15 | 그룹 이동 | 선택된 프로젝트 그룹 변경 | USER+ |
| F020-16 | 일괄 실행 | 선택된 프로젝트 순차 실행 | USER+ |

### 3.5 기타

| ID | 기능 | 설명 |
|----|------|------|
| F020-17 | 프로젝트 생성 | 생성 페이지로 이동 |
| F020-18 | 행 클릭 | 프로젝트 상세 페이지로 이동 |

---

## 4. 테이블 컬럼

| 컬럼 | 설명 | 정렬 | 너비 |
|------|------|:----:|------|
| 체크박스 | 선택용 | - | 40px |
| 프로젝트명 | 이름 + 아이콘 | ✓ | auto |
| 그룹 | 소속 그룹명 | ✓ | 120px |
| Java | 소스→타겟 버전 | - | 80px |
| 상태 | 최근 실행 상태 | ✓ | 100px |
| 최근 실행 | 마지막 실행 시간 (상대 시간) | ✓ | 120px |
| 액션 | 더보기 메뉴 | - | 60px |

---

## 5. 상태 표시

| 상태 | 아이콘 | 색상 | 설명 |
|------|--------|------|------|
| 완료 | ✓ | Green | 최근 실행 성공 |
| 실행중 | ● | Blue (애니메이션) | 현재 실행 중 |
| 실패 | ✗ | Red | 최근 실행 실패 |
| 대기 | ○ | Gray | 실행 기록 없음 |

---

## 6. API 연동

### 6.1 목록 조회
```yaml
GET /api/v1/tr/projects
Query:
  page: number (default: 0)
  size: number (default: 10)
  sort: string (default: "createdAt,desc")
  search: string (프로젝트명 검색)
  groupId: string (그룹 필터)
  status: string (상태 필터)
Response:
  data:
    result: Project[]
    pagination:
      page: number
      size: number
      total: number
      totalPages: number
```

### 6.2 프로젝트 삭제
```yaml
DELETE /api/v1/tr/projects/{id}
Response:
  204: No Content
  404: Not Found
```

### 6.3 일괄 삭제
```yaml
DELETE /api/v1/tr/projects
Body:
  ids: string[]
Response:
  200:
    deleted: number
    failed: string[] (실패한 ID)
```

### 6.4 그룹 이동
```yaml
PATCH /api/v1/tr/projects/move-group
Body:
  ids: string[]
  groupId: string
Response:
  200:
    updated: number
```

---

## 7. 상태 관리

| 상태 | 타입 | 설명 |
|------|------|------|
| projects | Project[] | 프로젝트 목록 |
| pagination | Pagination | 페이지 정보 |
| selectedIds | string[] | 선택된 프로젝트 ID |
| filters | FilterState | 검색/필터 상태 |
| isLoading | boolean | 로딩 상태 |

```typescript
interface FilterState {
  search: string;
  groupId: string | null;
  status: string | null;
}
```

---

## 8. 삭제 확인 모달

```
┌─────────────────────────────────────┐
│ ⚠️ 프로젝트 삭제                     │
├─────────────────────────────────────┤
│                                     │
│ 정말로 "project-a"를 삭제하시겠습니까?│
│                                     │
│ 이 작업은 되돌릴 수 없으며,          │
│ 관련된 모든 실행 기록도 삭제됩니다.   │
│                                     │
├─────────────────────────────────────┤
│              [취소]  [삭제]          │
└─────────────────────────────────────┘
```

---

## 변경 이력

| 버전 | 날짜 | 변경 내용 |
|------|------|----------|
| 1.0.0 | 2026-01-13 | 초기 작성 |
